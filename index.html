<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Yuna Boosts</title>
  <meta name="description" content="Yuna Boosts, premium Rocket League boosting." />

  <link rel="icon" type="image/png"
    href="https://images-ext-1.discordapp.net/external/oHMiYNyU7kb5XMQ4WVjwV6mOyckRC_qQZcUYrZqk2gY/%3Fsize%3D4096/https/cdn.discordapp.com/icons/1451305417459372136/b73d024855d393a88a1ea6a3424dc989.png?format=webp&quality=lossless" />
  <link rel="apple-touch-icon"
    href="https://images-ext-1.discordapp.net/external/oHMiYNyU7kb5XMQ4WVjwV6mOyckRC_qQZcUYrZqk2gY/%3Fsize%3D4096/https/cdn.discordapp.com/icons/1451305417459372136/b73d024855d393a88a1ea6a3424dc989.png?format=webp&quality=lossless" />

  <style>
    :root{ color-scheme: dark; }
    :root{
      --bg0:#040b1a;
      --bg1:#061433;
      --bg2:#081a44;

      --text:#eaf2ff;
      --muted: rgba(234,242,255,.70);

      --brand:#2f7cff;
      --brand2:#69b3ff;

      --shadow: 0 20px 70px rgba(0,0,0,.55);
      --glow: 0 0 0 1px rgba(47,124,255,.35), 0 0 34px rgba(47,124,255,.24);

      --radius: 18px;
      --radius2: 24px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:
        radial-gradient(900px 520px at 10% 15%, rgba(47,124,255,.34), transparent 58%),
        radial-gradient(900px 520px at 88% 22%, rgba(105,179,255,.18), transparent 55%),
        radial-gradient(900px 520px at 60% 95%, rgba(47,124,255,.16), transparent 60%),
        linear-gradient(180deg, #040b1a, #061433, #081a44);
      overflow-x:hidden;
    }

    .bg-orb{
      position:fixed; inset:-140px;
      background:
        radial-gradient(520px 420px at 18% 25%, rgba(105,179,255,.16), transparent 60%),
        radial-gradient(560px 440px at 78% 35%, rgba(47,124,255,.20), transparent 62%),
        radial-gradient(560px 440px at 55% 78%, rgba(47,124,255,.16), transparent 62%);
      filter: blur(10px);
      opacity:.95;
      pointer-events:none;
      animation: drift 16s ease-in-out infinite;
    }
    @keyframes drift{
      0%,100% { transform: translate3d(0,0,0) scale(1); }
      50% { transform: translate3d(16px,-10px,0) scale(1.02); }
    }

    .container{
      width:min(1180px, calc(100% - 40px));
      margin:0 auto;
      padding: 26px 0 56px;
      position:relative;
      z-index:1;
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      padding: 6px 0 18px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      user-select:none;
      min-width: 220px;
    }
    .logo{
      width:44px; height:44px;
      border-radius: 16px;
      overflow:hidden;
      box-shadow: 0 18px 50px rgba(47,124,255,.22), 0 0 0 1px rgba(255,255,255,.10) inset;
      background: rgba(255,255,255,.06);
      flex: 0 0 auto;
    }
    .logo img{ width:100%; height:100%; object-fit:cover; display:block; transform: scale(1.02); }
    .brand h1{
      margin:0;
      font-size: 18px;
      letter-spacing:.5px;
      text-transform:uppercase;
      color: rgba(255,255,255,.95);
      line-height:1.1;
    }

    .layout{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 18px;
      align-items:start;
    }

    .card{
      border:1px solid rgba(90,160,255,.18);
      background: linear-gradient(180deg, rgba(8, 26, 68, .72), rgba(6, 18, 45, .78));
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      position:relative;
    }
    .card .edge-glow{
      position:absolute; inset:-1px;
      border-radius: inherit;
      pointer-events:none;
      box-shadow: var(--glow);
      opacity:.95;
    }

    .calc{ padding: 18px; overflow: visible; }
    .calc h2{ margin: 2px 0 8px; font-size: 18px; letter-spacing:.2px; }
    .calc p{ margin:0 0 14px; color: var(--muted); font-size: 13.5px; line-height:1.45; }

    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .span-2{ grid-column: 1 / -1; }

    .field{
      display:flex;
      flex-direction:column;
      gap: 8px;
      padding: 12px;
      border-radius: var(--radius);
      border:1px solid rgba(90,160,255,.18);
      background: rgba(5, 14, 36, .45);
      transition: transform .18s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease;
      position:relative;
      overflow: visible;
    }
    .field:hover{
      transform: translateY(-1px);
      border-color: rgba(90,160,255,.35);
      background: rgba(5, 14, 36, .55);
      box-shadow: 0 18px 55px rgba(0,0,0,.25);
    }

    label{
      font-size: 12px;
      color: rgba(255,255,255,.80);
      letter-spacing:.2px;
    }

    select.native-hidden{
      position:absolute;
      opacity:0;
      pointer-events:none;
      width:1px; height:1px;
    }

    .cs{ position:relative; z-index:1; }
    .cs.open{ z-index: 9999; }

    .cs-btn{
      width:100%;
      text-align:left;
      border-radius: 16px;
      padding: 12px 42px 12px 12px;
      border: 1px solid rgba(90,160,255,.20);
      background: linear-gradient(180deg, rgba(8,26,68,.60), rgba(6,18,45,.66));
      color: rgba(255,255,255,.94);
      font-size: 13.8px;
      letter-spacing:.15px;
      cursor:pointer;
      transition: border-color .18s ease, box-shadow .18s ease, transform .18s ease;
      outline:none;
      box-shadow: 0 0 0 1px rgba(0,0,0,.05) inset;
    }
    .cs-btn:hover{
      border-color: rgba(90,160,255,.42);
      transform: translateY(-1px);
    }
    .cs-btn:focus{
      border-color: rgba(47,124,255,.80);
      box-shadow: 0 0 0 4px rgba(47,124,255,.18), 0 0 28px rgba(47,124,255,.16);
    }

    .cs-caret{
      position:absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      width: 14px;
      height: 14px;
      opacity:.92;
      pointer-events:none;
      filter: drop-shadow(0 0 10px rgba(47,124,255,.30));
      background:
        linear-gradient(45deg, transparent 50%, rgba(255,255,255,.90) 50%),
        linear-gradient(135deg, rgba(255,255,255,.90) 50%, transparent 50%);
      background-position: 0 0, 7px 0;
      background-size: 7px 7px, 7px 7px;
      background-repeat:no-repeat;
    }

    .cs-menu{
      position:absolute;
      left:0; right:0;
      top: calc(100% + 8px);
      border-radius: 16px;
      border: 1px solid rgba(90,160,255,.26);
      background: linear-gradient(180deg, rgba(6,18,45,.98), rgba(8,26,68,.98));
      box-shadow: 0 24px 70px rgba(0,0,0,.65), 0 0 0 1px rgba(47,124,255,.10) inset;
      backdrop-filter: blur(14px);
      max-height: 280px;
      overflow:auto;
      z-index: 10000;
      padding: 6px;
      display:none;
    }
    .cs.open .cs-menu{ display:block; }

    .cs-opt{
      padding: 10px 10px;
      border-radius: 12px;
      cursor:pointer;
      color: rgba(255,255,255,.92);
      font-size: 13.5px;
      border: 1px solid transparent;
      transition: background .14s ease, border-color .14s ease, transform .14s ease;
      user-select:none;
    }
    .cs-opt:hover{
      background: rgba(47,124,255,.14);
      border-color: rgba(90,160,255,.22);
      transform: translateY(-1px);
    }
    .cs-opt[aria-selected="true"]{
      background: rgba(47,124,255,.22);
      border-color: rgba(47,124,255,.35);
      box-shadow: 0 0 0 3px rgba(47,124,255,.14);
    }
    .cs-opt.disabled{
      opacity: .40;
      cursor: not-allowed;
      background: transparent;
      border-color: transparent;
      transform: none;
    }
    .cs-opt.disabled:hover{
      background: transparent;
      border-color: transparent;
      transform: none;
    }

    .seg{
      display:flex;
      gap:10px;
      padding: 12px;
      border-radius: var(--radius);
      border:1px solid rgba(90,160,255,.18);
      background: rgba(5, 14, 36, .45);
      align-items:center;
      justify-content:space-between;
    }
    .toggle{ display:flex; gap:10px; }
    .btn{
      cursor:pointer;
      user-select:none;
      padding: 10px 12px;
      border-radius: 999px;
      font-size: 13px;
      border:1px solid rgba(90,160,255,.18);
      background: rgba(8, 26, 68, .45);
      color: rgba(255,255,255,.88);
      transition: transform .16s ease, border-color .16s ease, background .16s ease, box-shadow .16s ease;
      display:flex; align-items:center; gap:8px;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(90,160,255,.35);
      box-shadow: 0 14px 40px rgba(0,0,0,.22);
    }
    .btn.active{
      border-color: rgba(47,124,255,.85);
      background: rgba(47,124,255,.22);
      box-shadow: 0 0 0 4px rgba(47,124,255,.14), 0 0 26px rgba(47,124,255,.16);
    }

    .discord-cta{ margin-top: 14px; display:flex; gap: 10px; }
    .discord-btn{
      width:100%;
      cursor:pointer;
      border:none;
      border-radius: 14px;
      padding: 14px 14px;
      font-weight: 950;
      letter-spacing:.2px;
      color: #eaf2ff;
      background: linear-gradient(135deg, rgba(47,124,255,1), rgba(105,179,255,1));
      box-shadow: 0 18px 46px rgba(47,124,255,.22), 0 0 0 1px rgba(255,255,255,.10) inset;
      transition: transform .16s ease, box-shadow .16s ease, filter .16s ease;
      text-align:center;
    }
    .discord-btn:hover{
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 22px 60px rgba(47,124,255,.26), 0 0 0 1px rgba(255,255,255,.12) inset;
    }
    .discord-btn:active{ transform: translateY(0px) scale(.99); }

    .checkout{
      padding: 18px;
      position:sticky;
      top: 16px;
      overflow: visible;
      background: linear-gradient(180deg, rgba(8,26,68,.78), rgba(6,18,45,.84));
      border-color: rgba(90,160,255,.22);
    }
    .checkout-title{
      font-size: 12px;
      letter-spacing: .14em;
      text-transform: uppercase;
      color: rgba(255,255,255,.60);
      margin: 2px 0 14px;
    }
    .sum{
      border-radius: var(--radius2);
      border: 1px solid rgba(90,160,255,.18);
      background: rgba(5, 14, 36, .42);
      padding: 14px;
    }
    .sum-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding: 12px 0;
      border-bottom: 1px solid rgba(255,255,255,.10);
      font-size: 13.5px;
    }
    .sum-row:last-of-type{ border-bottom:none; }
    .sum-left{ color: rgba(255,255,255,.60); }
    .sum-right{
      color: rgba(255,255,255,.94);
      font-weight: 800;
      text-align:right;
      white-space:nowrap;
    }
    .sum-divider{ height: 1px; background: rgba(255,255,255,.14); margin: 14px 0; }

    .total-wrap{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      gap: 16px;
      padding-top: 8px;
    }
    .total-wrap .label{
      color: rgba(255,255,255,.92);
      font-weight: 900;
      font-size: 16px;
    }
    .total-wrap .price{
      font-size: 34px;
      font-weight: 950;
      letter-spacing:-.6px;
      color: rgba(255,255,255,.96);
      text-shadow: 0 0 22px rgba(47,124,255,.16);
    }

    .eta{
      margin-top: 10px;
      color: rgba(255,255,255,.62);
      font-size: 12.5px;
      display:flex;
      align-items:center;
      gap: 8px;
    }
    .eta .clock{
      width: 16px; height:16px;
      border-radius: 99px;
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: 0 0 18px rgba(47,124,255,.14);
      position:relative;
    }
    .eta .clock:after{
      content:"";
      position:absolute;
      left:50%; top:50%;
      width: 1px; height: 6px;
      background: rgba(255,255,255,.74);
      transform: translate(-50%,-80%) rotate(25deg);
      transform-origin: bottom;
    }

    .cta{ margin-top: 14px; display:flex; flex-direction:column; gap:10px; }

    .primary{
      cursor:pointer;
      border:none;
      border-radius: 14px;
      padding: 14px 14px;
      font-weight: 950;
      letter-spacing:.2px;
      color: #eaf2ff;
      background: linear-gradient(135deg, rgba(47,124,255,1), rgba(105,179,255,1));
      box-shadow: 0 18px 46px rgba(47,124,255,.22), 0 0 0 1px rgba(255,255,255,.10) inset;
      transition: transform .16s ease, box-shadow .16s ease, filter .16s ease;
    }
    .primary:hover{
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 22px 60px rgba(47,124,255,.26), 0 0 0 1px rgba(255,255,255,.12) inset;
    }
    .primary:active{ transform: translateY(0px) scale(.99); }
    .primary:disabled{ opacity:.55; cursor:not-allowed; filter:saturate(.8); box-shadow:none; }

    .status{
      margin-top: 12px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(90,160,255,.18);
      background: rgba(5, 14, 36, .35);
      color: rgba(255,255,255,.78);
      font-size: 12.5px;
      line-height:1.45;
    }
    .status.ok{ border-color: rgba(47,124,255,.30); }
    .status.bad{ border-color: rgba(255,90,122,.28); }

    footer{
      margin-top: 18px;
      color: rgba(234,242,255,.55);
      font-size: 12px;
      line-height:1.5;
      text-align:center;
    }

    @media (max-width: 980px){
      .layout{ grid-template-columns: 1fr; }
      .checkout{ position:relative; top:auto; }
    }
    @media (max-width: 720px){
      .grid{ grid-template-columns: 1fr; }
      header{ flex-direction:column; align-items:flex-start; }
    }
  </style>
</head>
<body>
  <div class="bg-orb"></div>

  <div class="container">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <img alt="Yuna Boosts Logo"
               src="https://images-ext-1.discordapp.net/external/oHMiYNyU7kb5XMQ4WVjwV6mOyckRC_qQZcUYrZqk2gY/%3Fsize%3D4096/https/cdn.discordapp.com/icons/1451305417459372136/b73d024855d393a88a1ea6a3424dc989.png?format=webp&quality=lossless" />
        </div>
        <h1>Yuna Boosts</h1>
      </div>
      <div></div>
    </header>

    <section class="layout">
      <div class="card calc">
        <div class="edge-glow" aria-hidden="true"></div>
        <h2>Boost Calculator</h2>
        <p>Select your service, goal, and completion method. Price updates instantly.</p>

        <div class="seg" style="margin-bottom:12px;">
          <div>
            <div style="font-weight:950; font-size:13.5px;">Service Type</div>
            <div style="color:var(--muted); font-size:12px; margin-top:2px;">Rank Boost or Tournament Boost</div>
          </div>
          <div class="toggle" role="tablist" aria-label="Service Type">
            <div class="btn active" id="rankBoostBtn" role="tab" tabindex="0" aria-selected="true">Rank Boost</div>
            <div class="btn" id="tourBoostBtn" role="tab" tabindex="0" aria-selected="false">Tournament Boost</div>
          </div>
        </div>

        <div class="grid" id="rankGrid">
          <div class="field">
            <label>Current Rank</label>
            <select id="rankCurrent" class="native-hidden" aria-label="Current Rank"></select>
            <div class="cs" data-for="rankCurrent" id="csRankCurrent">
              <button type="button" class="cs-btn" aria-haspopup="listbox" aria-expanded="false"></button>
              <span class="cs-caret" aria-hidden="true"></span>
              <div class="cs-menu" role="listbox"></div>
            </div>
          </div>

          <div class="field">
            <label>Desired Rank</label>
            <select id="rankDesired" class="native-hidden" aria-label="Desired Rank"></select>
            <div class="cs" data-for="rankDesired" id="csRankDesired">
              <button type="button" class="cs-btn" aria-haspopup="listbox" aria-expanded="false"></button>
              <span class="cs-caret" aria-hidden="true"></span>
              <div class="cs-menu" role="listbox"></div>
            </div>
          </div>
        </div>

        <div class="grid" id="tourGrid" style="display:none;">
          <div class="field span-2">
            <label>Tournament Goal</label>
            <select id="tourGoal" class="native-hidden" aria-label="Tournament Goal"></select>
            <div class="cs" data-for="tourGoal" id="csTourGoal">
              <button type="button" class="cs-btn" aria-haspopup="listbox" aria-expanded="false"></button>
              <span class="cs-caret" aria-hidden="true"></span>
              <div class="cs-menu" role="listbox"></div>
            </div>
          </div>
        </div>

        <div style="height:12px"></div>

        <div class="seg">
          <div>
            <div style="font-weight:950; font-size:13.5px;">Completion Method</div>
            <div style="color:var(--muted); font-size:12px; margin-top:2px;">Solo or Duo</div>
          </div>
          <div class="toggle" role="tablist" aria-label="Completion Method">
            <div class="btn active" id="soloBtn" role="tab" tabindex="0" aria-selected="true">Solo</div>
            <div class="btn" id="duoBtn" role="tab" tabindex="0" aria-selected="false">Duo</div>
          </div>
        </div>

        <div style="height:12px"></div>

        <div id="tourDuoExtras" style="display:none;">
          <div class="field">
            <label>Current 3s Rank</label>
            <select id="tour3sRank" class="native-hidden" aria-label="Current 3s Rank"></select>
            <div class="cs" data-for="tour3sRank" id="csTour3sRank">
              <button type="button" class="cs-btn" aria-haspopup="listbox" aria-expanded="false"></button>
              <span class="cs-caret" aria-hidden="true"></span>
              <div class="cs-menu" role="listbox"></div>
            </div>
          </div>

          <div style="height:12px"></div>
        </div>

        <div class="field" id="regionField" style="display:none;">
          <label>Region (Duo Only)</label>
          <select id="region" class="native-hidden" aria-label="Region">
            <option value="NA">North America (NA)</option>
            <option value="EU">Europe (EU)</option>
            <option value="SAM">South America (SAM)</option>
            <option value="OCE">Oceania (OCE)</option>
            <option value="ASIA">Asia (ASIA)</option>
            <option value="ME">Middle East (ME)</option>
            <option value="AF">Africa (AF)</option>
          </select>
          <div class="cs" data-for="region" id="csRegion">
            <button type="button" class="cs-btn" aria-haspopup="listbox" aria-expanded="false"></button>
            <span class="cs-caret" aria-hidden="true"></span>
            <div class="cs-menu" role="listbox"></div>
          </div>
        </div>

        <div class="discord-cta">
          <button class="discord-btn" id="joinDiscordBtn">Join Discord</button>
        </div>
      </div>

      <aside class="card checkout">
        <div class="edge-glow" aria-hidden="true"></div>

        <div class="checkout-title">Order Summary</div>

        <div class="sum">
          <div class="sum-row">
            <div class="sum-left">Game</div>
            <div class="sum-right">Rocket League</div>
          </div>

          <div class="sum-row">
            <div class="sum-left">Service</div>
            <div class="sum-right" id="sumService">Rank Boost</div>
          </div>

          <div class="sum-row">
            <div class="sum-left">Mode</div>
            <div class="sum-right" id="sumMode">Solo</div>
          </div>

          <div class="sum-row" id="sumStartRow">
            <div class="sum-left" id="sumStartLabel">Start Rank</div>
            <div class="sum-right" id="sumStart">—</div>
          </div>

          <div class="sum-row">
            <div class="sum-left" id="sumEndLabel">End Rank</div>
            <div class="sum-right" id="sumEnd">—</div>
          </div>

          <div class="sum-row" id="sumRegionRow" style="display:none;">
            <div class="sum-left">Region</div>
            <div class="sum-right" id="sumRegion">—</div>
          </div>

          <div class="sum-divider"></div>

          <div class="total-wrap">
            <div class="label">Total Price</div>
            <div class="price" id="sumPrice">$0</div>
          </div>

          <div class="eta">
            <div class="clock" aria-hidden="true"></div>
            <div id="etaText">Estimated Time: —</div>
          </div>
        </div>

        <div class="cta">
          <button class="primary" id="checkoutBtn" disabled>Checkout</button>
        </div>

        <div class="status" id="statusBox">Choose your options to generate a quote.</div>
      </aside>
    </section>

    <footer>
      © <span id="year"></span> Yuna Boosts • Checkout redirects to Discord.
    </footer>
  </div>

<script>
  const DISCORD_URL = "https://discord.gg/7w2BWAHSma";

  const RANK_BASE_FULL_PRICE = 80;
  const RANK_FULL_TIME_DAYS = 3;

  const TOUR_PRICE_SOLO = {
    Bronze: 6,
    Silver: 8,
    Gold: 10,
    Platinum: 13,
    Diamond: 16,
    Champion: 18,
    "Grand Champion": 20,
    "Supersonic Legend": 25
  };

  const TOUR_HOURS_SOLO = {
    Bronze: 6,
    Silver: 7,
    Gold: 8,
    Platinum: 10,
    Diamond: 12,
    Champion: 14,
    "Grand Champion": 18,
    "Supersonic Legend": 22
  };

  const PINK_SSL_WINS = 3;
  const PINK_SSL_DISCOUNT = 0.80;

  function rankDuoMultiplier(regionValue){
    return regionValue === "NA" ? 1.20 : 1.30;
  }

  function tournamentDuoMultiplier(){
    return 1.50;
  }

  const ranks = [
    "Bronze I","Bronze II","Bronze III",
    "Silver I","Silver II","Silver III",
    "Gold I","Gold II","Gold III",
    "Platinum I","Platinum II","Platinum III",
    "Diamond I","Diamond II","Diamond III",
    "Champion I","Champion II","Champion III",
    "Grand Champion I","Grand Champion II","Grand Champion III",
    "Supersonic Legend"
  ];

  const tierFactor = {
    "Bronze": 0.60,
    "Silver": 0.95,
    "Gold": 1.20,
    "Platinum": 1.60,
    "Diamond": 2.20,
    "Champion": 3.05,
    "Grand Champion": 4.85,
    "Supersonic Legend": 7.00
  };

  const tierOrder = ["Bronze","Silver","Gold","Platinum","Diamond","Champion","Grand Champion","Supersonic Legend"];

  function tierOfRank(rankName){
    if (rankName.startsWith("Bronze")) return "Bronze";
    if (rankName.startsWith("Silver")) return "Silver";
    if (rankName.startsWith("Gold")) return "Gold";
    if (rankName.startsWith("Platinum")) return "Platinum";
    if (rankName.startsWith("Diamond")) return "Diamond";
    if (rankName.startsWith("Champion")) return "Champion";
    if (rankName.startsWith("Grand Champion")) return "Grand Champion";
    return "Supersonic Legend";
  }

  const tourOptions = [
    { label: "Bronze Tournament Win (1x)", tier: "Bronze", wins: 1 },
    { label: "Silver Tournament Win (1x)", tier: "Silver", wins: 1 },
    { label: "Gold Tournament Win (1x)", tier: "Gold", wins: 1 },
    { label: "Platinum Tournament Win (1x)", tier: "Platinum", wins: 1 },
    { label: "Diamond Tournament Win (1x)", tier: "Diamond", wins: 1 },
    { label: "Champion Tournament Win (1x)", tier: "Champion", wins: 1 },
    { label: "Grand Champion Tournament Win (1x)", tier: "Grand Champion", wins: 1 },
    { label: "SSL Tournament Win (1x)", tier: "Supersonic Legend", wins: 1 },
    { label: "Pink SSL Tournament Win (3x)", tier: "Supersonic Legend", wins: PINK_SSL_WINS, pink: true }
  ];

  const stepWeights = [];
  for (let i=0; i<ranks.length-1; i++){
    stepWeights.push(tierFactor[tierOfRank(ranks[i+1])]);
  }
  const fullPathWeight = stepWeights.reduce((a,b)=>a+b, 0);

  function computeRankDistanceWeight(fromIdx, toIdx){
    if (toIdx <= fromIdx) return 0;
    let w = 0;
    for (let i=fromIdx; i<toIdx; i++) w += stepWeights[i];
    return w;
  }

  function formatETAFromDays(days){
    if (days <= 0) return "—";
    if (days < 1){
      const hoursRaw = days * 24;
      const hours = Math.max(6, Math.round(hoursRaw / 6) * 6);
      return `${hours} Hours`;
    }
    const d = Math.max(1, Math.round(days * 2) / 2);
    const pretty = Number.isInteger(d) ? String(d) : d.toFixed(1);
    return `${pretty} Day${d === 1 ? "" : "s"}`;
  }

  let audioCtx = null;
  function sfx(type="tap"){
    try{
      if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      const t = audioCtx.currentTime;

      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();

      const settings = {
        tap:     { f0: 420, f1: 240, dur: 0.05, vol: 0.045 },
        switch:  { f0: 520, f1: 300, dur: 0.06, vol: 0.055 },
        success: { f0: 700, f1: 920, dur: 0.08, vol: 0.060 }
      }[type] || { f0: 420, f1: 240, dur: 0.05, vol: 0.045 };

      o.type = "sine";
      o.frequency.setValueAtTime(settings.f0, t);
      o.frequency.exponentialRampToValueAtTime(settings.f1, t + settings.dur);

      g.gain.setValueAtTime(0.0001, t);
      g.gain.exponentialRampToValueAtTime(settings.vol, t + 0.01);
      g.gain.exponentialRampToValueAtTime(0.0001, t + settings.dur);

      o.connect(g); g.connect(audioCtx.destination);
      o.start(t); o.stop(t + settings.dur + 0.02);
    }catch(e){}
  }

  const rankBoostBtn = document.getElementById("rankBoostBtn");
  const tourBoostBtn = document.getElementById("tourBoostBtn");

  const rankGrid = document.getElementById("rankGrid");
  const tourGrid = document.getElementById("tourGrid");

  const rankCurrent = document.getElementById("rankCurrent");
  const rankDesired = document.getElementById("rankDesired");

  const tourGoal = document.getElementById("tourGoal");
  const tourDuoExtras = document.getElementById("tourDuoExtras");
  const tour3sRank = document.getElementById("tour3sRank");

  const soloBtn = document.getElementById("soloBtn");
  const duoBtn  = document.getElementById("duoBtn");

  const regionField = document.getElementById("regionField");
  const region = document.getElementById("region");

  const sumService = document.getElementById("sumService");
  const sumMode = document.getElementById("sumMode");
  const sumStartRow = document.getElementById("sumStartRow");
  const sumStartLabel = document.getElementById("sumStartLabel");
  const sumEndLabel = document.getElementById("sumEndLabel");
  const sumStart = document.getElementById("sumStart");
  const sumEnd = document.getElementById("sumEnd");

  const sumRegionRow = document.getElementById("sumRegionRow");
  const sumRegion = document.getElementById("sumRegion");

  const sumPrice = document.getElementById("sumPrice");
  const etaText = document.getElementById("etaText");

  const statusBox = document.getElementById("statusBox");
  const checkoutBtn = document.getElementById("checkoutBtn");
  const joinDiscordBtn = document.getElementById("joinDiscordBtn");

  document.getElementById("year").textContent = new Date().getFullYear();

  let serviceType = "RANK";
  let method = "Solo";

  function populateSelect(selectEl, list){
    selectEl.innerHTML = "";
    list.forEach((v, idx) => {
      const opt = document.createElement("option");
      opt.value = String(idx);
      opt.textContent = v;
      selectEl.appendChild(opt);
    });
  }
  populateSelect(rankCurrent, ranks);
  populateSelect(rankDesired, ranks);
  populateSelect(tour3sRank, ranks);

  function populateTourGoal(){
    tourGoal.innerHTML = "";
    tourOptions.forEach((o, idx) => {
      const opt = document.createElement("option");
      opt.value = String(idx);
      opt.textContent = o.label;
      tourGoal.appendChild(opt);
    });
  }
  populateTourGoal();

  rankCurrent.value = "0";
  rankDesired.value = "3";
  tour3sRank.value = "0";
  tourGoal.value = "7";

  function closeAllCustomSelects(except=null){
    document.querySelectorAll(".cs.open").forEach(cs => {
      if (except && cs === except) return;
      cs.classList.remove("open");
      const b = cs.querySelector(".cs-btn");
      if (b) b.setAttribute("aria-expanded","false");
    });
  }

  function buildCustomSelect(csRoot){
    const selectId = csRoot.getAttribute("data-for");
    const native = document.getElementById(selectId);
    const btn = csRoot.querySelector(".cs-btn");
    const menu = csRoot.querySelector(".cs-menu");

    function close(){
      csRoot.classList.remove("open");
      btn.setAttribute("aria-expanded","false");
    }
    function open(){
      closeAllCustomSelects(csRoot);
      csRoot.classList.add("open");
      btn.setAttribute("aria-expanded","true");
      const sel = menu.querySelector('[aria-selected="true"]');
      if (sel) sel.scrollIntoView({ block: "nearest" });
    }
    function toggle(){
      if (csRoot.classList.contains("open")) close(); else open();
    }

    function render(){
      menu.innerHTML = "";
      const opts = Array.from(native.options);
      const currentVal = native.value;

      const currentOpt = opts.find(o => o.value === currentVal);
      btn.textContent = currentOpt ? currentOpt.textContent : "Select...";

      opts.forEach(o => {
        const item = document.createElement("div");
        item.className = "cs-opt" + (o.disabled ? " disabled" : "");
        item.setAttribute("role","option");
        item.setAttribute("tabindex", o.disabled ? "-1" : "0");
        item.dataset.value = o.value;
        item.textContent = o.textContent;
        item.setAttribute("aria-selected", o.value === currentVal ? "true" : "false");
        item.setAttribute("aria-disabled", o.disabled ? "true" : "false");

        item.addEventListener("click", (e) => {
          e.stopPropagation();
          if (o.disabled) return;
          native.value = o.value;
          native.dispatchEvent(new Event("change", { bubbles:true }));
          close();
        });

        item.addEventListener("keydown", (e) => {
          if (o.disabled) return;
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            item.click();
          }
        });

        menu.appendChild(item);
      });
    }

    btn.addEventListener("click", (e) => {
      e.stopPropagation();
      sfx("tap");
      toggle();
    });

    document.addEventListener("click", () => close());
    menu.addEventListener("click", (e) => e.stopPropagation());

    native.addEventListener("change", () => render());
    render();

    return { render, native };
  }

  const csRankCurrent = buildCustomSelect(document.getElementById("csRankCurrent"));
  const csRankDesired = buildCustomSelect(document.getElementById("csRankDesired"));
  const csTourGoal    = buildCustomSelect(document.getElementById("csTourGoal"));
  const csTour3sRank  = buildCustomSelect(document.getElementById("csTour3sRank"));
  const csRegion      = buildCustomSelect(document.getElementById("csRegion"));

  function setStatus(kind, text){
    statusBox.className = "status " + kind;
    statusBox.textContent = text;
  }

  function setService(next){
    serviceType = next;
    closeAllCustomSelects();
    sfx("switch");

    const isRank = serviceType === "RANK";
    rankBoostBtn.classList.toggle("active", isRank);
    tourBoostBtn.classList.toggle("active", !isRank);
    rankBoostBtn.setAttribute("aria-selected", String(isRank));
    tourBoostBtn.setAttribute("aria-selected", String(!isRank));

    rankGrid.style.display = isRank ? "grid" : "none";
    tourGrid.style.display = isRank ? "none" : "grid";

    sumService.textContent = isRank ? "Rank Boost" : "Tournament Boost";

    updateVisibility();
    updateTournamentRestrictions();
    update();
  }

  function setMethod(next){
    method = next;
    closeAllCustomSelects();
    sfx("switch");

    const isDuo = method === "Duo";
    soloBtn.classList.toggle("active", !isDuo);
    duoBtn.classList.toggle("active", isDuo);
    soloBtn.setAttribute("aria-selected", String(!isDuo));
    duoBtn.setAttribute("aria-selected", String(isDuo));

    sumMode.textContent = isDuo ? "Duo" : "Solo";

    updateVisibility();
    updateTournamentRestrictions();
    update();
  }

  function updateVisibility(){
    const isDuo = method === "Duo";
    const isTour = serviceType === "TOUR";

    regionField.style.display = isDuo ? "flex" : "none";
    sumRegionRow.style.display = isDuo ? "flex" : "none";

    tourDuoExtras.style.display = (isTour && isDuo) ? "block" : "none";

    if (serviceType === "RANK"){
      sumStartLabel.textContent = "Start Rank";
      sumEndLabel.textContent = "End Rank";
      sumStartRow.style.display = "flex";
    } else {
      sumEndLabel.textContent = "Tournament Goal";
      if (isDuo){
        sumStartLabel.textContent = "Current 3s Rank";
        sumStartRow.style.display = "flex";
      } else {
        sumStartRow.style.display = "none";
      }
    }
  }

  function maxAllowedTournamentTierForDuo(current3sTier){
    const idx = tierOrder.indexOf(current3sTier);
    if (idx < 0) return "Bronze";
    return tierOrder[Math.min(idx + 1, tierOrder.length - 1)];
  }

  function updateTournamentRestrictions(){
    const restrict = (serviceType === "TOUR" && method === "Duo");

    Array.from(tourGoal.options).forEach(o => { o.disabled = false; });

    if (!restrict){
      csTourGoal.render();
      return;
    }

    const currentTier = tierOfRank(ranks[parseInt(tour3sRank.value, 10)] || "Bronze I");
    const maxTier = maxAllowedTournamentTierForDuo(currentTier);
    const maxIdx = tierOrder.indexOf(maxTier);

    Array.from(tourGoal.options).forEach((opt, i) => {
      const tier = tourOptions[i].tier;
      const tierIdx = tierOrder.indexOf(tier);
      if (tierIdx > maxIdx) opt.disabled = true;
    });

    const curIdx = parseInt(tourGoal.value, 10);
    if (tourGoal.options[curIdx] && tourGoal.options[curIdx].disabled){
      let best = 0;
      for (let i=0; i<tourGoal.options.length; i++){
        if (!tourGoal.options[i].disabled) best = i;
      }
      tourGoal.value = String(best);
      tourGoal.dispatchEvent(new Event("change", { bubbles:true }));
    }

    csTourGoal.render();
  }

  function computeTournamentTotalAndETA(tier, wins, isPink){
    const single = TOUR_PRICE_SOLO[tier];
    let total = single * wins;
    if (isPink) total *= PINK_SSL_DISCOUNT;

    const hoursPerWin = TOUR_HOURS_SOLO[tier];
    let hours = hoursPerWin * wins;
    if (isPink) hours *= 0.90;

    return { total, etaDays: hours / 24 };
  }

  function computeFinal(){
    const isDuo = method === "Duo";

    if (serviceType === "RANK"){
      const fromIdx = parseInt(rankCurrent.value, 10);
      const toIdx = parseInt(rankDesired.value, 10);
      const fromName = ranks[fromIdx] || "—";
      const toName = ranks[toIdx] || "—";

      const w = computeRankDistanceWeight(fromIdx, toIdx);
      const fraction = fullPathWeight > 0 ? (w / fullPathWeight) : 0;

      const baseRaw = RANK_BASE_FULL_PRICE * fraction;

      let mult = 1.0;
      if (isDuo) mult = rankDuoMultiplier(region.value);

      const finalRaw = baseRaw * mult;
      const finalWhole = (toIdx > fromIdx) ? Math.max(1, Math.round(finalRaw)) : 0;

      const etaDays = RANK_FULL_TIME_DAYS * fraction;

      return {
        ok: toIdx > fromIdx,
        startText: fromName,
        endText: toName,
        price: finalWhole,
        etaDays
      };
    }

    const optIdx = parseInt(tourGoal.value, 10);
    const opt = tourOptions[optIdx];

    const { total, etaDays } = computeTournamentTotalAndETA(opt.tier, opt.wins, !!opt.pink);

    let mult = 1.0;
    if (isDuo) mult = tournamentDuoMultiplier();

    const finalRaw = total * mult;
    const finalWhole = Math.max(1, Math.round(finalRaw));

    const startText = (method === "Duo")
      ? (ranks[parseInt(tour3sRank.value, 10)] || "—")
      : "";

    return {
      ok: true,
      startText,
      endText: opt.label,
      price: finalWhole,
      etaDays
    };
  }

  function update(){
    const res = computeFinal();

    if (serviceType === "RANK"){
      sumStart.textContent = res.startText;
      sumEnd.textContent = res.endText;
    } else {
      if (method === "Duo") sumStart.textContent = res.startText;
      sumEnd.textContent = res.endText;
    }

    if (method === "Duo"){
      const regionLabelMap = {
        NA:"North America (NA)", EU:"Europe (EU)", SAM:"South America (SAM)",
        OCE:"Oceania (OCE)", ASIA:"Asia (ASIA)", ME:"Middle East (ME)", AF:"Africa (AF)"
      };
      sumRegion.textContent = regionLabelMap[region.value] || region.value;
    }

    if (!res.ok){
      sumPrice.textContent = "$0";
      etaText.textContent = "Estimated Time: —";
      checkoutBtn.disabled = true;
      setStatus("bad", "For Rank Boost, desired rank must be higher than your current rank.");
      return;
    }

    sumPrice.textContent = "$" + res.price.toLocaleString();
    etaText.textContent = "Estimated Time: " + formatETAFromDays(res.etaDays);
    checkoutBtn.disabled = false;

    const duoText = (method === "Duo") ? "Duo" : "Solo";
    setStatus("ok", `Estimate ready: $${res.price} • ${serviceType === "RANK" ? "Rank Boost" : "Tournament Boost"} • ${duoText}.`);
  }

  rankBoostBtn.addEventListener("click", () => setService("RANK"));
  tourBoostBtn.addEventListener("click", () => setService("TOUR"));

  soloBtn.addEventListener("click", () => setMethod("Solo"));
  duoBtn.addEventListener("click", () => setMethod("Duo"));

  rankCurrent.addEventListener("change", () => { sfx("tap"); update(); });
  rankDesired.addEventListener("change", () => { sfx("tap"); update(); });

  tourGoal.addEventListener("change", () => { sfx("tap"); update(); });

  tour3sRank.addEventListener("change", () => {
    sfx("tap");
    updateTournamentRestrictions();
    update();
  });

  region.addEventListener("change", () => { sfx("tap"); update(); });

  checkoutBtn.addEventListener("click", () => {
    sfx("success");
    window.location.href = DISCORD_URL;
  });

  joinDiscordBtn.addEventListener("click", () => {
    sfx("success");
    window.location.href = DISCORD_URL;
  });

  setService("RANK");
  setMethod("Solo");
  updateTournamentRestrictions();
  update();
</script>
</body>
</html>
